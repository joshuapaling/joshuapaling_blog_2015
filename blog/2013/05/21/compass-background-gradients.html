
<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta http-equiv='X-UA-Compatible' content='IE=edge;chrome=1' />
  <title>Joshua Paling  - Compass CSS3 background gradients not working in IE 10</title>
  <link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/feed.xml" />
  <link href="../../../../stylesheets/application-65eac6ab.css" rel="stylesheet" />
  <script src="../../../../javascripts/application-8d565278.js"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
</head>
<body>
  <div class="page-wrapper">
    <header>
      <h1>Joshua Paling</h1>
      <nav>
        <a class="active" href="/">Blog</a>
        <a class="" href="/about.html">About</a>
        <a class="" href="/resume.html">Resume</a>
        <a href="../../../../feed.xml">RSS</a>
        <a target="_blank" href="https://twitter.com/joshuapaling">@joshuapaling</a>
      </nav>
    </header>


<p>I’ve been using <a href="http://www.colorzilla.com/gradient-editor/">ColorZilla</a> to generate my background gradients, and I’ve been using the SASS / Compass version of the generated code, which looks something like this:</p>

<pre><code class="language-scss">// needs latest Compass, add '@import "compass"' to your scss
background-color: #cccccc; // Old browsers
@include filter-gradient(#cccccc, #fafafa, vertical); // IE6-9
@include background-image(linear-gradient(top,  #cccccc 0%, #fafafa 100%));
</code></pre>

<p>I noticed it wasn’t working in IE 10, and on further investigation, the problem is actually that IE 10 is going by the WC3 standards (Gasp!) and Compass (following the implementation in other browsers) isn’t.</p>

<p>The current implementation of background gradients in most browsers is based on an old WC3 candidate recommendation, and looks something like a vendor-prefixed version of this:</p>

<pre><code class="language-scss">background-image: linear-gradient(top, #cccccc 0%,#fafafa 100%);
// I will refer to this as EXAMPLE 1
</code></pre>

<p>Note the ‘top’ keyword, indicating that the defined gradient should start from the top and go to the bottom.</p>

<p>However, the CORRECT implementation of gradients, according to the updated WC3 candidate recommendation, and (http://blogs.msdn.com/b/ie/archive/2012/06/25/unprefixed-css3-gradients-in-ie10.aspx)[]as implemented by IE 10], is like this:</p>

<pre><code class="language-scss">background-image: linear-gradient(to bottom, #cccccc 0%,#fafafa 100%);
// I will refer to this as EXAMPLE 2
</code></pre>

<p>Note, the <code>to bottom</code> replaces <code>top</code>, to indicate the direction of the gradient in terms of where it’s heading, rather than where it starts.</p>

<p>Compass generates CSS according to the old recommendation, for both the vendor-prefixed, and non-vendor prefixed lines of CSS. Further, it doesn’t generate any -ms- prefixed line, since IE 10 supports prefix-free background gradients. Well, IE 10 does support them – but only in the EXAMPLE 2 format. The EXAMPLE 1 format simply doesn’t work.</p>

<p>To make sure, you can look at <a href="http://compass-style.org/examples/compass/css3/gradient/">Compass’ demo page</a> and you’ll notice that gradients which specify a direction other than the default are not working in IE 10 (as at 22/May/2013).</p>

<p>So… what about solutions?</p>

<h2 id="solution-1">Solution 1:</h2>

<p>If you’re using top-to-bottom gradients only, then you’re saved! Top to bottom is the default direction – both according to the latest WC3 recommendation, and the previous one. So, if you simply leave out the direction, like this:</p>

<pre><code class="language-scss">@include background-image(linear-gradient(#cccccc 0%, #fafafa 100%));
</code></pre>

<p>then browsers on the old syntax will automatically assume ‘top’, and IE 10 will automatically assume ‘to bottom’. Too easy!</p>

<p>If you’re using directions other than top-to-bottom, however, that won’t work.</p>

<h2 id="solution-2">Solution 2:</h2>

<p>Just use the <a href="http://www.colorzilla.com/gradient-editor/">ColorZilla Gradient Editor</a> and instead of copying the SASS / Compass version of the code, just copy the plain CSS version of the code. Or, if you like painful monotony, hand-write it yourself.</p>

<h2 id="solution-3">Solution 3:</h2>

<p>If you really hate having as many lines as Solution 2 creates, then create a mixin to add -ms- prefixes onto Compass’s background-images. The mixin will look like this:</p>

<pre><code class="language-scss">@mixin background-image-with-ms($image) {
    @include background-image($image); // Compass default version, for everything but IE 10.
    background-image: -ms-#{$image}; // Vendor prefixes for IE 10.
}
</code></pre>

<p>Then, call your mixin just like you would the regular Compass background-image way:</p>

<pre><code class="language-scss">@include background-image-with-ms(linear-gradient(top,  #cccccc 0%, #fafafa 100%));
</code></pre>

<p>Note that this mixin still includes the WRONG output for the non-prefixed version. But it will still work because the -ms- prefixed version supports the OLD syntax (as per Example 1), not the new syntax (Example 2). This WON’T neccessarily be future-compatible, however. Hopefully by the time we get to the future, Compass will have resolved this issue itself and we won’t need a work-around.</p>

<h2 id="update-solution-4">Update: solution 4</h2>

<p>You can use degrees to create a gradient at any angle. As mentioned by <strong>uli</strong> in the comments, you can use degrees to do straight up / down or left / right gradients, too. That'll solve our problem, and it'll work in all browsers.</p>

<pre><code class="language-scss">top-to-bottom = 0deg,
left-to-right = 90deg,
</code></pre>


    <!-- Footer -->
    <footer>
      <nav>
        <a class="active" href="/">Blog</a>
        &nbsp;&bull;&nbsp;
        <a class="" href="/about.html">About</a>
        &nbsp;&bull;&nbsp;
        <a class="" href="/resume.html">Resume</a>
        &nbsp;&bull;&nbsp;
        <a href="../../../../feed.xml">RSS</a>
        &nbsp;&bull;&nbsp;
        <a class="" href="/archives.html">Archives</a>
      </nav>
      <div class="row">
        <div class="col-lg-12">
          <p>Copyright &copy; Joshua Paling 2015</p>
        </div>
      </div>
      <!-- /.row -->
    </footer>

  </div>

</body>
</html>

